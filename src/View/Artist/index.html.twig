{% extends 'layout.html.twig' %}

{% block content %}
	<main class="container">
		<div class="row">
			<h2>Tous les artistes</h2>
		</div>

		{% if user.is_admin == true %}
			<a href="/artists/add" class="btn btn-primary btn-sm">Ajouter</a>
		{% endif %}

		{% if user and user.is_admin == false %}
			<a href="/artists/search" class="btn btn-success btn-sm">Rechercher</a>
			<a href="/artists/favorites" class="btn btn-success btn-sm">Mes Favoris</a>
		{% endif %}

		<div id="allArtists" class="container marketing">
			<div class="row">
				{% for artist in artists %}
					<div id="oneArtist" class="col-6 col-lg-4 col-xl-3">
						<img src="{{ artist.image_artist }}" class="bd-placeholder-img rounded-circle shadow-lg" role="img" preserveaspectratio="xMidYMid slice" focusable="false">
							<rect fill="#777"></rect>
						</img>
						<p class="artist-name">{{ artist.name_artist }}</p>
						{% if user.is_admin == true %}
							<form action="/artists/delete" method="POST">
								<a href="/artists/show?id={{ artist.id }}" class="btn btn-primary btn-sm">Voir</a>
								<a href="/artists/edit?id={{ artist.id }}" class="btn btn-primary btn-sm">Modifier</a>
								<input type="hidden" name="id" value="{{ artist.id }}">
								<button class="btn btn-danger btn-sm" onclick="return confirm('Êtes-vous sûr(e) de vouloir supprimer l'artiste ?');">Supprimer</button>
							</form>
						{% endif %}
					</div>
				{% else %}
					<li>Aucun artiste à afficher</li>

				{% endfor %}
			</div>
		</div>
	</main>
{% endblock %}
